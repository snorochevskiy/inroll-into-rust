# Переменные

## Объявление переменной

Синтаксис для объявления переменных в Rust выглядит так:

```rust
let имя_переменной: тип = значение;
```

Например:

```rust
let a: i32 = 5;
```

Если при объявлении переменной, ей сразу присваивается значение, то тип можно опустить, так как компилятор выведет его автоматически:

```rust
let a = 5;
```

Так же переменную можно сначала объявить, а значение присвоить ниже. При этом, явное указание типа переменной так же не обязательно, так как компилятор сможет сопоставить объявление и последующую инициализацию.

```rust
let a;
a = 5;
```

## Мутабельность

По умолчанию переменные в Rust немутабельны, то есть, после того как переменной присвоено значение, другое значение в неё записать компилятор уже не позволит.

Такая программа:

```rust
fn main() {
    let a = 1;
    a = 5;
}
```

вызовет ошибку компиляции:

```
error[E0384]: cannot assign twice to immutable variable `a`
 --> main.rs:3:5
  |
2 |     let a = 1;
  |         - first assignment to `a`
3 |     a = 5;
  |     ^^^^^ cannot assign twice to immutable variable
```

Для того, чтобы сделать переменную мутабельной, её нужно объявить с ключевым словом `mut`.

```rust
let mut a = 1;
a = 5;
```

## Именование переменных

Имена переменных могут содержать только буквы (включая допустимые Unicode буквы), цифры и символ дочёркивания. При этом имя переменной не может начинаться с цифры. Ключевые слова Rust не могут быть использованы в качестве имени переменной.

```rust
let a = 1;
let b_x_5 = 2;
let таки_переменная = 3;
let 変数名 = 4;
```

В Rust для имен переменных принято использовать, так называемую "Snake case" нотацию:

* имена переменных должны начинаться со строчной буквы
* если имя переменной состоит из нескольких слов, то эти слова разделяются символом подчёркивания

Например:

```rust
let number = 1;
let some_number = 2;
let coordinate_2d_x = 2.11;
```

Если очень надо назвать переменную ключевым словом, то надо добавить к ней суффикс `r#`:

```rust
let r#if = 5;
```

## Константы

Кроме переменных, в Rust есть еще и константы. В то время как переменные хранятся на стеке, константы хранятся, как правило, в сегменте кода.

Синтаксис объявления константы:

```rust
const ИМЯ: Тип = значение;
```

В отличии от переменных, для констант всегда необходимо явно указывать тип данных.

Имена констант должны состоять из заглавных букв, а в качестве разделителя использовать знак подчёркивания.

```rust
const PI: f32 = 3.14;
const ANONYMOUS_NAME: &str = "anonymous";
```

## Префикс \_

Компилятор выдает предупреждения (warning) для каждой неиспользуемой переменной — переменной которая объявлена, и возможно инициализирована, но при этом не используется в каком-либо выражении.

Если мы намеренно хотим иметь в коде такую переменную (например, как задел для будующей функциональности), то мы можем начать имя переменной со знака подчёркивания, например:

```rust
let _some_unused_variable = 5;
```

Компилятор не будет выдавать предупреждений о том, что такая переменная не используется.

## "выброшенные" переменные

Если переменная состоит из одного только символа подчёркивания `_`, то она является "выброшенной" (discarded). Такая переменная семантически существует, однако обратиться к ней никак нельзя.

```rust
let _ = 5;
```

Один из сценариев применения "выброшенных" переменных — сознательное игнорирование результата функции. Мы рассмотрим этот пример в главе [result.md](result.md "mention")

Так же мы увидим применения таких переменных в главах [destrukturiruyushee-prisvaivanie.md](destrukturiruyushee-prisvaivanie.md "mention") и [pattern-matching.md](pattern-matching.md "mention").
