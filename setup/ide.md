# Среда разработки

Кроме самого Rust тулчейна, вам, очевидно, понадобится редактор кода или IDE с поддержкой Rust. Популярные варианты:

* [Rust Rover](https://www.jetbrains.com/rust/) — очень мощая IDE от JetBrains специльно для Rust. Бесплатна для обучения и Open-Source активностей, но для коммерческий разработки придётся купить лицензию.
* [VSCode](https://code.visualstudio.com/) — бесплатная среда разработки с открытым исходным кодом.
* [Zed](https://zed.dev/) — новая, бесплатная и очень быстрая среда разработки написанная на Rust.
* [NeoVim](https://neovim.io/) — мощный консольный редактор с высоким порогом входа, но большой гибкостью и расширяемостью. NeoVim — это форк оригинального [Vim](https://www.vim.org/), в котором для написания плагинов вместо VimScript используется Lua.&#x20;
* [Helix](https://helix-editor.com/) — "клон" Vim, написанный на Rust. Не так гибок как NeoVim, но гораздо дружественне и проще.

Если вы уже пользуетесь одной из IDE от Jet Brains, при этом вам подходит как она сама, так и её лицензия и стоимость, то можете просто ставить Rust Rover и переходить к следующей главе.

## rust-analyzer

Из всех вышеперечисленных сред разработки, только Rust Rover имеет собственную реализацию парсера и анализатора Rust кода. Все остальные работают с Rust кодом по средствам [rust-analyzer](https://rust-analyzer.github.io/).

rust-analyzer — приложение, которое анализирует код на Rust, и предоставляет такие возможности как:

* выведение типов
* автодополнение
* переход на объявление пременной/функции/типа
* поиск всех использование
* и т.д.

Редакторы кода взаимодействуют с rust-analyzer при помощи LSP (Language Server Protocol) — протокола, разработанного специально для взаимодейсвтия между редакторами, и анализаторами кода.

<img src="../.gitbook/assets/file.excalidraw (32).svg" alt="" class="gitbook-drawing">

Всё это значит, что перед тем как любой из вышеперечисленных редакторов сможет работать с Rust, вам необходимо установить rust-analyzer. Сделать это можно при помощи команды:

```
rustup component add rust-analyzer
```

После этого можно приступать к установке и настройке IDE.

## VSCode

Если вы не работали со средами разработки от JetBrains, или работали, но они вам не подходят, то первое, что рекомендуется попробовать —  VSCode.

VSCode представляет из себя редактор кода, который изначально не умеет ничего кроме редактирования, но имеет общирную базу плагинов, способных легко превратить VSCode в мощную IDE.

Для начала скачайте VSCode с официального сайта: [https://code.visualstudio.com/download](https://code.visualstudio.com/download). На сайти имеются варианты скачивания в виде :

* инсталятора для Windows
* пакетов для Linux
* просто архива.

Выбирайте, что вам удобнее.

После скачивания, запустите VSCode и перейдите в плагины, щёлкнув на иконке как на изображении ниже:

<figure><img src="../.gitbook/assets/vscode-init_screen.png" alt=""><figcaption></figcaption></figure>

В появившемся контекстном меню выберите пункт "Extension", после чего перед вами должна открыться следующая панель:

<figure><img src="../.gitbook/assets/vscode-install_extension.png" alt=""><figcaption></figcaption></figure>

В левом верхнем углу находится поле ввода для поиска расширений. Введине в него "rust-analyzer", и, после того как расширение отобразится, нажмите "install".

В принципе, этого уже достаточно, чтобы начать работать с Rust. Однако, рекомендуется так же установить следующие расширения:

* Even Better TOML — подсветка синтаксиса для TOML файлов\
  ([ссылка на страницу плагина](https://marketplace.visualstudio.com/items?itemName=tamasfe.even-better-toml))
* vscode-icons — более интуитивные пиктограммы в дереве файлов\
  ([ссылка на страницу плагина](https://marketplace.visualstudio.com/items?itemName=vscode-icons-team.vscode-icons))

***

Теперь протестируем, что всё работает.

Создайте Rust проект: откройте консоль, перейдите в удобный каталог (командой `cd`) и выполните следующую команду:

```
cargo new test_rust_project
```

Эта команда создаст новую директорию `test_rust_project` с проектом.

В VSCode выберите в меню "File -> Open Folder" и укажите папку `test_rust_project`.

После этого должен открыться ваш, свежесозданный, проект. Слева в дереве файлов щёлкните на src/main.rs, после чего справа в редакторе кода появится содержимое файла.

Над главной функцией (`fn main`) должна отображаться стрелочка с надписью "Run".

<figure><img src="../.gitbook/assets/vscode-run.png" alt=""><figcaption></figcaption></figure>

Нажмите на "Run". Если после этого в нижней части окна появится терменал, в котором отобразится строка "Hello, World!", то значит всё настроено верно.

