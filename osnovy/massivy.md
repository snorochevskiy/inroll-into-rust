# Массивы

Массивы, в Rust, представляю из себя непрерывную последовательность значений, размер которой известен на момент компиляции.

Тип массива состоит из двух частей: тип элементов массива, и количество элементов:

```
[тип_элементов; количество_элементов]
```

Например, массив из трёх элементов типа `i32`:

```rust
let arr: [i32; 3] = [1, 2, 3];
```

Размер массива нельзя задать во время выполнения программы (например считать с консоли желаемый размер, и сконструировать его), он обязательно должен быть известен во время компиляций, что делает массив полезным в редких случаях.

Например, массив из четырёх байт хорошо подходит для хранения IPv4 адреса.

Индексация элементов массива начинается с нуля.

```rust
fn main() {
  let mut arr = [91, 92, 93];
  println!("Array is {arr:?}");
  // Напечатает: Array is [91, 92, 93]
}
```

{% hint style="info" %}
Как мы видим, здесь, для вывода на консоль, мы используем форматирующую последовательность `{:?}` вместо `{}`. Как мы говорили, в разделе [pechat-na-konsol.md](pechat-na-konsol.md "mention"), это необходимо, так как массив не реализует трэй `std::fmt::Display` , однако, как и почти все стандартные типы, реализует `std::fmt::Debug` .
{% endhint %}

Как и любые другие переменные, переменная-массив по умолчанию немутабельна. Чтобы массив можно было изменять, он должен быть объявлен с ключевым словом `mut`

```rust
fn main() {
  let mut arr = [1,2,3];
  arr[1] = 55;
  println!("Array is {arr:?}");
  // Напечатает: Array is [1, 55, 3]
}
```

Массивы объявленне внутри функций, всегда располагаются на стеке.

Есть механизм позволяющий перенести массив в кучу, однаком придумать практическое применение такой операции весьма непросто.
